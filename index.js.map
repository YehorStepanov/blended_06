{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://dummyjson.com';\n\nexport async function getCategory() {\n  const answer = await axios('/products/category-list');\n  return answer.data;\n}\n\nexport async function getProducts(currentPage = 1) {\n  const url = `/products?limit=12&skip=${(currentPage - 1) * 12}`;\n  const answer = await axios(url);\n  return answer.data.products;\n}\n\nexport async function getProductsCategory(category, currentPage = 1) {\n  const answer = await axios(\n    `/products/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return answer.data.products;\n}\n","export default {\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  div: document.querySelector('.not-found'),\n};\n","import refs from './refs';\n\nexport function insertCategories(cat) {\n  cat.unshift('All');\n  return cat.map(insertCategory).join('');\n}\n\nexport function insertCategory(cat) {\n  return `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${cat}</button>\n </li>`;\n}\n\nexport function renderProducts(products) {\n  if (products.length === 0) {\n    refs.div.classList.add('not-found--visible');\n  } else {\n    refs.div.classList.remove('not-found--visible');\n  }\n  const markup = products\n    .map(\n      product => ` \n    <li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n    <p class=\"products__category\">Category:${product.category}</p>\n    <p class=\"products__price\">Price: $${product.price}</p>\n </li>`\n    )\n    .join('');\n  console.log(refs.products);\n  refs.products.innerHTML = markup;\n}\n","//Логіка сторінки Home\nimport {\n  getCategory,\n  getProducts,\n  getProductsCategory,\n} from './js/products-api';\nimport { insertCategories, renderProducts } from './js/render-function';\nimport refs from './js/refs';\n\ndocument.addEventListener('DOMContentLoaded', async e => {\n  const categories = await getCategory();\n\n  const markup = insertCategories(categories);\n  refs.categories.innerHTML = markup;\n\n  const products = await getProducts();\n  console.log(products);\n  renderProducts(products);\n});\n\nlet lastButton = null;\n\nrefs.categories.addEventListener('click', async e => {\n  if (e.target.classList.contains('categories__btn')) {\n    let listProducts = null;\n    if (e.target.textContent != 'All') {\n      listProducts = await getProductsCategory(e.target.textContent);\n    } else {\n      listProducts = await getProducts();\n    }\n\n    renderProducts(listProducts);\n    e.target.classList.add('categories__btn--active');\n    if (lastButton) {\n      lastButton.classList.remove('categories__btn--active');\n    }\n    lastButton = e.target;\n  }\n});\n"],"names":["axios","getCategory","getProducts","currentPage","url","getProductsCategory","category","refs","insertCategories","cat","insertCategory","renderProducts","products","markup","product","e","categories","lastButton","listProducts"],"mappings":"oFACAA,EAAM,SAAS,QAAU,wBAElB,eAAeC,GAAc,CAElC,OADe,MAAMD,EAAM,yBAAyB,GACtC,IAChB,CAEO,eAAeE,EAAYC,EAAc,EAAG,CACjD,MAAMC,EAAM,4BAA4BD,EAAc,GAAK,EAAE,GAE7D,OADe,MAAMH,EAAMI,CAAG,GAChB,KAAK,QACrB,CAEO,eAAeC,EAAoBC,EAAUH,EAAc,EAAG,CAInE,OAHe,MAAMH,EACnB,sBAAsBM,CAAQ,mBAAmBH,EAAc,GAAK,EAAE,EAC1E,GACgB,KAAK,QACrB,CCnBA,MAAeI,EAAA,CACb,WAAY,SAAS,cAAc,aAAa,EAChD,SAAU,SAAS,cAAc,WAAW,EAC5C,IAAK,SAAS,cAAc,YAAY,CAC1C,ECFO,SAASC,EAAiBC,EAAK,CACpC,OAAAA,EAAI,QAAQ,KAAK,EACVA,EAAI,IAAIC,CAAc,EAAE,KAAK,EAAE,CACxC,CAEO,SAASA,EAAeD,EAAK,CAClC,MAAO;AAAA,mDAC0CA,CAAG;AAAA,OAEtD,CAEO,SAASE,EAAeC,EAAU,CACnCA,EAAS,SAAW,EACtBL,EAAK,IAAI,UAAU,IAAI,oBAAoB,EAE3CA,EAAK,IAAI,UAAU,OAAO,oBAAoB,EAEhD,MAAMM,EAASD,EACZ,IACCE,GAAW;AAAA,0CACyBA,EAAQ,EAAE;AAAA,wCACZA,EAAQ,SAAS,UAAUA,EAAQ,KAAK;AAAA,iCAC/CA,EAAQ,KAAK;AAAA,2EAC6BA,EAAQ,KAAK;AAAA,6CAC3CA,EAAQ,QAAQ;AAAA,yCACpBA,EAAQ,KAAK;AAAA,OAEjD,EACA,KAAK,EAAE,EACV,QAAQ,IAAIP,EAAK,QAAQ,EACzBA,EAAK,SAAS,UAAYM,CAC5B,CCxBA,SAAS,iBAAiB,mBAAoB,MAAME,GAAK,CACvD,MAAMC,EAAa,MAAMf,IAEnBY,EAASL,EAAiBQ,CAAU,EAC1CT,EAAK,WAAW,UAAYM,EAE5B,MAAMD,EAAW,MAAMV,IACvB,QAAQ,IAAIU,CAAQ,EACpBD,EAAeC,CAAQ,CACzB,CAAC,EAED,IAAIK,EAAa,KAEjBV,EAAK,WAAW,iBAAiB,QAAS,MAAMQ,GAAK,CACnD,GAAIA,EAAE,OAAO,UAAU,SAAS,iBAAiB,EAAG,CAClD,IAAIG,EAAe,KACfH,EAAE,OAAO,aAAe,MAC1BG,EAAe,MAAMb,EAAoBU,EAAE,OAAO,WAAW,EAE7DG,EAAe,MAAMhB,IAGvBS,EAAeO,CAAY,EAC3BH,EAAE,OAAO,UAAU,IAAI,yBAAyB,EAC5CE,GACFA,EAAW,UAAU,OAAO,yBAAyB,EAEvDA,EAAaF,EAAE,MAChB,CACH,CAAC"}